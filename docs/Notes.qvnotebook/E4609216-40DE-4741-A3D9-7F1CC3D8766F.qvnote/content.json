{
  "title": "AWS Notes",
  "cells": [
    {
      "type": "markdown",
      "data": "# FOR AWS SIGNED UPLOADS"
    },
    {
      "type": "text",
      "data": "<p style=\"box-sizing: border-box; margin: 0px 0px 10px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">We also need a CORS header. Because the AJAX Post to amazon.com domain is&nbsp;<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" target=\"_blank\" style=\"box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;\">cross-origin</a>, we need is for S3 to send the Access-Control-Allow-Origin HTTP header. This is configured on the bucket under&nbsp;<span style=\"box-sizing: border-box; font-weight: 700;\">Permissions &gt; Edit CORS Configuration</span>&nbsp;on the&nbsp;<span style=\"box-sizing: border-box; font-weight: 700;\">Properties</span>&nbsp;tab.</p><p style=\"box-sizing: border-box; margin: 0px 0px 10px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255);\">This will work, though you might want to fine-tune&nbsp;<code style=\"box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 14.4px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;\">AllowedOrigin</code>&nbsp;to just the domains you need. More details can be found at&nbsp;<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/cors.html#how-do-i-enable-cors\" target=\"_blank\" style=\"box-sizing: border-box; color: rgb(66, 139, 202); text-decoration: none; background-position: 0px 0px; background-repeat: initial initial;\">https://docs.aws.amazon.com/AmazonS3/latest/dev/cors.html#how-do-i-enable-cors</a></p><figure class=\"code\" style=\"box-sizing: border-box; margin: 0px 0px 1.5em; box-shadow: rgba(0, 0, 0, 0.0588235) 0px 0px 10px; background-image: none; background-color: rgb(255, 255, 255); padding: 0px; border: 1px solid rgb(221, 221, 221); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px; font-variant-ligatures: normal; orphans: 2; widows: 2; background-position: initial initial; background-repeat: initial initial;\"><figcaption style=\"box-sizing: border-box; position: relative; padding: 10px 15px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border-top-left-radius: 5px; border-top-right-radius: 5px; border-bottom-right-radius: 5px; border-bottom-left-radius: 5px;\"><span style=\"box-sizing: border-box; line-height: 1.45em; font-weight: bold;\"></span></figcaption><div class=\"highlight\" style=\"box-sizing: border-box; border-radius: 0px 0px 5px 5px; margin-bottom: 0px; background: url(&quot;/images/noise.png?1412695263&quot;) left top rgb(252, 252, 252); overflow-y: hidden; overflow-x: auto; border-top: 1px solid rgb(221, 221, 221);\"><table style=\"box-sizing: border-box;\"><tbody style=\"box-sizing: border-box;\"><tr style=\"box-sizing: border-box;\"><td class=\"gutter\" style=\"box-sizing: border-box; padding: 0px;\"><pre class=\"line-numbers\" style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; margin-top: 0px; margin-bottom: 0px; line-height: 1.45em; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; border-top-style: none; border-bottom-style: none; border-left-style: none; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; box-shadow: none; text-align: right; text-shadow: rgb(241, 236, 220) 0px -1px; padding: 1em 0.8em 0.8em !important; background-image: url(file:///images/noise.png?1412695263) !important; background-color: rgb(255, 255, 255) !important; border-right-width: 1px !important; border-right-style: solid !important; border-right-color: rgb(235, 228, 206) !important; background-position: left top !important; background-repeat: initial initial !important;\"><span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">1</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">2</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">3</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">4</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">5</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">6</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">7</span>\n<span class=\"line-number\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important;\">8</span>\n</pre></td><td class=\"code\" style=\"box-sizing: border-box; padding: 0px; width: 815px;\"><pre style=\"box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; padding: 0px; margin-top: 0px; margin-bottom: 0px; line-height: 1.42857; color: rgb(51, 51, 51); word-break: break-all; word-wrap: break-word; background-image: none; border: none; border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; box-shadow: none; background-position: initial initial; background-repeat: initial initial;\"><code class=\"xml\" style=\"box-sizing: border-box; font-size: inherit; padding: 0.8em; background-color: rgb(0, 0, 0); border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; overflow-y: hidden; display: block; overflow-x: auto; line-height: 1.45em; font-family: Menlo, Monaco, 'Andale Mono', 'lucida console', 'Courier New', monospace !important; color: rgb(88, 110, 117) !important;\"><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\"><span class=\"cp\" style=\"box-sizing: border-box; color: rgb(147, 161, 161) !important; font-style: italic !important;\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\"><span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;CORSConfiguration</span> <span class=\"na\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important;\">xmlns=</span><span class=\"s\" style=\"box-sizing: border-box; color: rgb(42, 161, 152) !important;\">\"http://s3.amazonaws.com/doc/2006-03-01/\"</span><span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\">    <span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;CORSRule&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\">        <span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;AllowedOrigin&gt;</span>*<span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;/AllowedOrigin&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\">        <span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;AllowedMethod&gt;</span>POST<span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;/AllowedMethod&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\">        <span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;AllowedHeader&gt;</span>*<span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;/AllowedHeader&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\">    <span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;/CORSRule&gt;</span>\n</span><span class=\"line\" style=\"box-sizing: border-box; color: rgb(88, 110, 117) !important;\"><span class=\"nt\" style=\"box-sizing: border-box; color: rgb(38, 139, 210) !important; font-weight: bold !important;\">&lt;/CORSConfiguration&gt;</span></span></code></pre></td></tr></tbody></table></div></figure>"
    },
    {
      "type": "text",
      "data": "Worth a read -&gt; <a href=\"http://stuff-things.net/2016/03/09/uploading-images-directly-from-the-browser-to-aws-s3/\">http://stuff-things.net/2016/03/09/uploading-images-directly-from-the-browser-to-aws-s3/</a><div><br></div>"
    },
    {
      "type": "text",
      "data": "<pre style=\"background-color:#272822;color:#f8f8f2;font-family:'Menlo';font-size:9.0pt;\"><a href=\"https://us-west-2.console.aws.amazon.com/ec2/v2/home?region=us-west-2#SecurityGroups:search=sg-dba7fda0\" target=\"_blank\" style=\"color: rgb(20, 110, 180); text-decoration: none; cursor: pointer; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; padding: 1px 2px; font-family: 'Helvetica Neue', Roboto, Arial, 'Droid Sans', sans-serif; font-size: 14px; font-variant-ligatures: normal; orphans: 2; white-space: pre-wrap; widows: 2; background-color: rgb(255, 255, 255);\">CodeDeploySampleStack-p6v1xl-SecurityGroup-L753F0AVLR9T (sg-dba7fda0</a>)</pre><pre style=\"background-color:#272822;color:#f8f8f2;font-family:'Menlo';font-size:9.0pt;\"></pre>"
    }
  ]
}